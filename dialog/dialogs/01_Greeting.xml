<?xml version="1.0" encoding="UTF-8"?>
<dialog xsi:noNamespaceSchemaLocation="WatsonDialogDocument_1.0.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

    <flow>
      <!--   メイン = 開始  -->
      <folder label="Main">
	<output>
	  <action varName="VA_Name" operator="SET_TO">ハル</action>
	  <prompt selectionType="RANDOM">
	    <item>ハロー、わたしは、{VA_Name}です</item>
	    <item>ハイ、わたしは、{VA_Name}です</item>
	    <item>わたしの名前は、{VA_Name}です</item>
	    <item>わたしは、コグニティブ・システムの、{VA_Name}です</item>
	    <item>僕は、{VA_Name}です</item>
	  </prompt>
	  <goto ref="User_Name_Capture"/>
	</output>
      </folder>	  
      <!--   メイン = 終了  -->

      <folder label="Library">
	
	<!--   名前の取得 = 開始  -->
	<folder label="User_Name_Capture" id="User_Name_Capture">
	  <output>
	    <prompt selectionType="RANDOM">
	      <item>あなたを何と呼べば良いですか</item>
	      <item>あなたのお名前を教えてね</item>
	    </prompt>
	    <action varName="Complete" operator="SET_TO_NO"/>
	    <action varName="Name" operator="SET_TO_BLANK"/> 
	    <getUserInput>
	      <input>
		<grammar>
		  <item>いやです</item>
		  <item>名前で呼ばれたくありません</item>
		  <item>* お断りします</item>
		  <item>名前を *</item>
		</grammar>
		<output>
		  <prompt selectionType="RANDOM">
		    <item>はい、わかりました</item>
		    <item>それでは、名前でお呼びしません。</item>
		  </prompt>
		  <action varName="Complete" operator="SET_TO_YES"/>
		</output>
	      </input>
	      
	      <input>
		<grammar>
		  <item>私の名前は、</item>
		  <item>$ (DYNAMIC_DATA)={Name}</item>
		  <item>$ (DYNAMIC_DATA)={Name} です</item>
		  <item>$ 私は (DYNAMIC_DATA)={Name}</item>
		  <item>$ 私の名前は (DYNAMIC_DATA)={Name} です</item>
		  <item>$ 私は (DYNAMIC_DATA)={Name} です</item>
		</grammar>
		<action varName="Name" operator="SET_TO">{Name.source}</action>
		<output>
		  <prompt selectionType="RANDOM">
		    <item>{Name}さん、と お呼びして良いですか</item>
		    <item>{Name}さん、で良いですか</item>
		    <item>{Name}さん、で正しいですか</item>
		  </prompt>
		  
		  <getUserInput>
		    <input>
		      <grammar>
			<item>はい</item>
			<item>yes</item>
			<item>Yes</item>
		      </grammar>
		      <output>
			<prompt selectionType="RANDOM">
			  <item>{Name}さん、よろしく、お願いします</item>
			</prompt>
			<action varName="Complete" operator="SET_TO_YES"/>
		      </output>
		    </input>
		    
		    <input>
		      <grammar>
			<item>いいえ</item>
			<item>いえ</item>
			<item>いや</item>
			<item>no</item>
			<item>No</item>
		      </grammar>
		      <goto ref='User_Name_Capture'/>
		    </input>
		    
		    <default>
		      <output>
			<prompt selectionType="RANDOM">
			  <item>申し訳ありません、はい、か、いいえ、でお願いします。</item>
			  <item>はい、または、いいえ、で答えてください。</item>
			</prompt>
		      </output>
		    </default>
		  </getUserInput>
		  
		</output>
	      </input>
	      
	    </getUserInput>
	  </output>
	</folder>
	<!-- 名前の取得 = 終了  -->
	
	<folder label="Storage"/>      
      </folder>
      
      <folder label="Global"/>
      <folder label="Concepts"/>
      
      <folder label="Concepts">
	<concept>
	  <grammar>
	    <item>僕</item>
	    <item>ぼく</item>
	    <item>私</item>
	    <item>わたし</item>
	    <item>俺</item>
	    <item>おれ</item>
	  </grammar>
	</concept>
      </folder>
      
    </flow>
    
    <entities>
      <entity name="DYNAMIC_DATA" entityType="GENERIC">
	<value name="DataCapture" value="DataCapture">
	  <grammar>
	    <item>*</item>
	  </grammar>
	</value>
	<entityRules></entityRules>
      </entity>
    </entities>
    
    <variables>
      <var_folder name="Home">
	<var name="Complete"       type="YESNO" description="完了フラグ"/>
	<var name="Cancel"         type="YESNO" description="中断フラグ"/>
	<var name="Right_Classify" type="YESNO" description="正解フラグ"/>
	<var name="Class_name"     type="TEXT"  description="SET_TO_USER_INPUT"/>
	<var name="List_Classify"  type="YESNO" description="LIST出力要求"/>
	<var name="Classify1"      type="TEXT"  description="自然言語分類"/>
	<var name="Name"           type="TEXT"  description="名前"/>
	<var name="VA_Name"        type="TEXT"  description="Vritual Agent 名前"/>
      </var_folder>
    </variables>
    
    
    
    <settings>
      <setting name="USERIDNUM" type="USER">69810</setting>
      <setting name="EMAIL" type="USER">takara9@gmail.com</setting>
      <setting name="PASSWORD" type="USER">mct:f972618f697988c5f1808da2115a54f0</setting>
      <setting name="FIRSTNAME" type="USER">Maho</setting>
      <setting name="LASTNAME" type="USER">Takara</setting>
      <setting name="COUNTRY" type="USER">JP</setting>
      <setting name="STATE" type="USER"></setting>
      <setting name="CITY" type="USER">Tokyo</setting>
      <setting name="BDAY" type="USER">1</setting>
      <setting name="BMONTH" type="USER">1</setting>
      <setting name="BYEAR" type="USER">2001</setting>
      <setting name="SEX" type="USER">Male</setting>
      <setting name="DISPLAYNAME" type="USER">Maho</setting>
      <setting name="PROVIDESECURITYPASSWORD" type="USER">false</setting>
      <setting name="SECURITYPASSWORD" type="USER"></setting>
      <setting name="SHOWPERSPROFILE" type="USER">true</setting>
      <setting name="USETYPE" type="USER">0</setting>
      <setting name="DATEJOINED" type="USER">2016-03-30 15:08:32.0</setting>
      <setting name="LASTLOGIN" type="USER">2016-03-30 15:08:32.0</setting>
      <setting name="LOGINCOUNT" type="USER">1</setting>
      <setting name="CREDIT" type="USER">-100</setting>
      <setting name="CONVCOUNT" type="USER">2</setting>
      <setting name="PERSONALITYTYPEID" type="USER">6</setting>
      <setting name="SHOWSENDMESSAGE" type="USER">true</setting>
      <setting name="ACTIVATED" type="USER">true</setting>
      <setting name="MESSENGEREMAIL" type="USER"></setting>
      <setting name="MESSENGERPASSWORD" type="USER"></setting>
      <setting name="SENDCHATEMAIL" type="USER">true</setting>
      <setting name="SENDFAVEMAIL" type="USER">true</setting>
      <setting name="CACHE" type="USER">false</setting>
      <setting name="CLASSTYPE" type="USER">3</setting>
      <setting name="AUTOLEARN" type="USER">false</setting>
      <setting name="LANGUAGE" type="USER">ja-JP</setting>
      <setting name="RESPONSETIME" type="USER">0</setting>
      <setting name="MAXAUTOLEARNITEMS" type="USER">0</setting>
      <setting name="NUMAUTOSETRELATED" type="USER">0</setting>
      <setting name="TIMEZONEID" type="USER">Asia/Tokyo</setting>
      <setting name="AUTOSETRELATEDNODEID" type="USER">0</setting>
      <setting name="RETURNTOCHATNODEID" type="USER">0</setting>
      <setting name="INPUTMASKTYPE" type="USER">0</setting>
      <setting name="NUMLOGINATTEMPTS" type="USER">0</setting>
      <setting name="CONCEPTMATCHING" type="USER">3</setting>
      <setting name="USE_CONCEPTS">3</setting>
    </settings>
</dialog>
